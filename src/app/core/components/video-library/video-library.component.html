<div class="fixed-header-wrapper">
  <app-library-header
    [videoCount]="videoCount()"
    [filteredCount]="filteredCount()"
    [categories]="categories()"
    [searchQuery]="searchQuery()"
    [categoryFilter]="categoryFilter()"
    [sortBy]="sortBy()"
    [viewMode]="viewMode()"
    [loading]="loading()"
    (searchQueryChange)="onSearchQueryChange($event)"
    (categoryFilterChange)="onCategoryFilterChange($event)"
    (sortByChange)="onSortByChange($event)"
    (viewModeChange)="onViewModeChange($event)"
    (upload)="openUploadDialog()"
    (refresh)="refreshVideos()"
    (logout)="handleLogout()">
  </app-library-header>
</div>

<!-- Main Content -->
<main class="main-content container mx-auto px-4 py-8 flex-1">
  <!-- Video Grid Component -->
  <app-video-grid
    [videos]="filteredVideos()"
    [loading]="loading()"
    [viewMode]="viewMode()"
    [searchQuery]="searchQuery()"
    [categoryFilter]="categoryFilter()"
    (videoPlay)="openPlayerDialog($event)"
    (download)="downloadVideo($event)"
    (videoEdit)="openEditDialog($event)"
    (videoDelete)="openDeleteDialog($event)"
    (uploadClick)="openUploadDialog()">
  </app-video-grid>
</main>
<app-upload-progress></app-upload-progress>
<app-footer></app-footer>